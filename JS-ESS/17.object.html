<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>


    /*
    *  封装信息, 基于对象, 包括状态和方法
    *
    * */

    var hero = new Object();
    hero.level = 6;
    hero.kick = function () {
        console.log('kick');
    };
    console.log(hero.level);
    hero.kick();

//    create the self-definition object
    var student = new Object();
    console.log(student);
    student.name = 'rick';
    student.age = 30;
    student.study = function () {
        console.log(this.name +' study js');
    };
    student.study();


//     创建一类对象
    function createStu(name) {
        var stu = new Object();
        stu.name = name;
        stu.sayHi = function () {
            console.log(stu.name + ' say hi');
        };
        return stu;
    }
    var stu1 = createStu('rick');
    console.log(stu1.sayHi());

//    this 只是出现在函数中， 谁调用函数，this就指向谁
//    new 用来开辟内存空间，存储创建的对象，把 this 设置为当前对象， 执行内部代码，设置对象的属性和方法，返回新创建的对象。
//     new 默认就带有 return 的功能，具有返回创建对象的功能。

    var aa = new Stu();
    console.log(aa); // Stu{}

    aa.say(); // Stu{}
    function Stu() {
        this.say = function () {
            console.log(this);
        }
    }

//     constructor function -- used to create the object instance

    var p = new People('rick');
    p.sayHi();
    function People(name) {
        this.name = name;
        this.sayHi = function () {
            console.log(this.name + ' : hi');
        }
    }

    p.age = 12;
    p['sex'] = 'male';
    console.log(p); // People {name: "rick", age: 12, sex: "male"}


//   parseInt() -- 任意进制转换成十进制

    console.log(parseInt(1010, 2)); // 10
    console.log(parseInt(0xff, 16)); // 597

//    toString(), --- 十进制转换成任意进制
    var num = 8;
    console.log(num.toString(2)); // 1000
    console.log(num.toString(8)); // 10


//    literal expression, the difference between the js literals and json is the key with the mark of ""
    var arr2 = [];
    var obj1 = {};
    var obj2 = {
        name: 'rick',
        age: 56,
        sex: 'male',
        arr: arr2,
        obj: obj1
    };
    console.log(obj2);

//    对象本身没有length,所以不能用for循环遍历， 所以用 for in
    for (var k in obj2) {
        console.log(k, obj2[k]);
    }


//    create a json object and go through the elements, creating the elements use for loop, and going through elements use for in
    var json1 = {};
    console.log(json1);
    for (var i = 1; i < 10; i++) {
        json1[i] = i * 10;
    }
    console.log(json1); // {1: 10, 2: 20, 3: 30, 4: 40, 5: 50, 6: 60, 7: 70, 8: 80, 9: 90}
    for (var k in json1) {
        console.log(json1[k]);
    }

//    类 , in js, functions used to create the class

//  简单数据类型和 复杂数据类型 传递的都是 其值， 只不过 简单类型直接传递的是其实际储存的值， 而 复杂类型则传递的是其储存的值（地址），这样
//    地址就是相同的，因此指向同一个对象。
    var num = 1;
    fn1(num);
    console.log(num); // 1
    function fn1(a) {
        a = a * 10;
        return a;
    }

    var obj3 = new Object();
    obj3.name = 'leo';
    fn2(obj3);
    console.log(obj3.name); // rick
    function fn2(obj) {
        obj.name = 'rick';
    }


//    内置对象 build-in object ---- array

    var arr1 = [1, 2, 4];
    var arr2 = new Array(1,2);
    console.log(arr2);  // [1, 2]

    console.log(arr2 instanceof Array); // true
    console.log(arr1 instanceof Array); // true

    var str1 = 'abc';
    console.log(str1 instanceof String); // false
    var str = new String('abc');
    console.log(str instanceof String); // true

    var arr3 = [1, 2, 4];
    console.log(Array.isArray(arr3)); // true
    console.log(arr3.toString());  // 1,2,4

    console.log(typeof arr3.toString()); // String

    var arr6 = ['aa', 'bb', 'cc', 'dd', 'ee'];
    console.log(arr6.join());  // aa,bb,cc,dd,ee
//    参数决定用什么链接
    console.log(arr6.join('|')); // aa|bb|cc|dd|ee

    console.log(arr6.join(" "));  // aa bb cc dd ee

    console.log(arr6.join("")); // aabbccddee



//    arguments  --- pseudo array
    fn(1, 2);  // [1,2]
    fn(1,2,3); // [1, 2,3]
    fn(1,2,3,4);
    function fn() {
        console.log(arguments);
        console.log(arguments instanceof Array); // false
        console.log(typeof arguments); // object

        console.log(arguments.length); // 实参个数 2 3 4
        console.log(fn.length); // 形参个数  0
        console.log(arguments.callee); // 代表的整个函数
    }

//    array stack methods (push pop 先进后出) and queue methods (shift and unshift 先进先出)

    var arr7 = [];
    arr7.push(1);
    arr7.push(2);
    arr7.push(7);
    console.log(arr7.push()); // 3  length
    console.log(arr7); // [1, 2, 3]
    console.log(arr7.pop()); // 7
    console.log(arr7); // [1, 2]


    console.log(arr7.unshift(9)); // 3 length
    console.log(arr7); // [9, 1, 2]
    console.log(arr7.unshift(19)); // 4 length
    console.log(arr7);
    console.log(arr7.shift()); // 19
    console.log(arr7); // [9, 1, 2]


//    reverse
    var arr8 = ['e', 'd', 'c', 'b', 'a'];
    console.log(arr8.reverse()); // ["a", "b", "c", "d", "e"]


    // sort
    var arr9 = [2, 3, 5, 1, 6, 3, 4];
    console.log(arr9.sort()); // [1, 2, 3, 3, 4, 5, 6]

    var arr10 = [10, 12, 9, 7, 1, 3];
    console.log(arr10.sort());
    console.log(arr10.sort(function (a, b) {
        return a - b;
    })); // [1, 3, 7, 9, 10, 12]

    console.log(arr10.sort(function (a, b) {
        return b - a;
    })); // [12, 10, 9, 7, 3, 1]

    // sort essential
    function bubble(arr) {
        for (var i = 0; i < arr.length - 1; i++) {
            var bool = true;
            for (var j = 0; j < arr.length - 1; j++) {
                if (arr[j] > arr[j+1]) {
                    var temp = arr[j];
                    arr[j] = arr[j+1];
                    arr[j+1] = temp;
                    bool = false;
                }
            }
            if (bool) {
                break;
            }
        }

    }


//    array concat slice replace
    var arra = ['a', 'b', 'c'];
    var arrb = [1, 2, 3];

    var arrc = arra.concat(arrb);
    console.log(arra);
    console.log(arrb);
    console.log(arrc); // ["a", "b", "c", 1, 2, 3]

    // slice
    var arrd = arrc.slice(2, 5); // [index start,  index end)
    console.log(arrc); // ["a", "b", "c", 1, 2, 3]
    console.log(arrd); // ["c", 1, 2]


    // splice

//    arrc.splice(0); // control the original array
//    console.log(arrc); []
//    console.log(arrc.splice(0, 3)); // index start, element number
//    console.log(arrc.splice(3, 1, 'abc'));


    console.log(arrc);  // ["a", "b", "c", 1, 2, 3]
    console.log(arrc.indexOf('a'));
    console.log(arrc.lastIndexOf('a'));
    console.log(arrc.indexOf('a', 3));
    console.log(arrc.lastIndexOf('a', 3));

    //array.every(fn) -- 对数组的元素每一个遍历，返回值为boolean值
    var arro = ['a', 'b', 'c', 'dddd', 'e'];
    arro.every(function (item, index, arr) {
//        item = 'kk';
//        arr[index] = 'kk';
//        console.log(item);
//        console.log(index);
//        console.log(arr);
//        return true;

        if (item.length > 2) {
            return false;
        }
        return true;
    });



    // filter

    var arrk = arro.filter(function (item, index, array) {
        if (item.length > 2) {
            return true;
        }
        return false;
    });
    console.log(arrk); // ['dddd']


    // each， 没有返回值
    var str = "";
    arro.forEach(function (item, index, array) {
        str += item;
    });
    console.log(str); // abcdddde

    // map, 有返回值

    var arrj = arro.map(function (item, index, array) {
        return item + '11';
    });
    console.log(arrj); // ["a11", "b11", "c11", "dddd11", "e11"]


    // some
    var flag = arro.some(function (item, index, array) {
        if (item.length > 2) {
            return true;
        }
        return false;
    });
    console.log(flag);


//    清空数组
//    var ar = [1, 3];
//    ar.splice(0);
//    console.log(ar); // []
//
//    ar = [];


    // test
//   将一个字符串数组输出为分割的形式
    var ar = ['aa', 'bb', 'cc'];
    var ark = ar.join("|");
    console.log(ark); // aa|bb|cc

//    翻转
    function reverse1(array) {    // method 1
        var newArr = [];
        for (var i = array.length - 1; i >= 0; i--) {
            newArr[newArr.length] = array[i];
        }
        return newArr;
    }

    function reverse2(array) {    // method 2
        for (var i = 0; i < array.length/2; i++) {
            var temp = array[i];
            array[i] = array[array.length - 1 - i];
            array[array.length - 1- i] = temp;
        }
        return array;
    }

    console.log(ar.reverse());  // method 3

    // 工资的数组 [1500, 1700, 200, 2100], 删除大于200的工资  filter
    var ar = [1500, 1700, 2000, 2100];
    var arrr = ar.filter(function (item, index, array) {
        if (item < 2000) {
            return true;
        }
        return false;
    });
    console.log(arrr); // [1500, 1700]


    // 数组中每次出现的次数, 利用对象来做， 键值对比较方便
//    创建一个对象，判断数组中的元素在对象中是否存在，值加一，否则创建一个属性，然后给值复制为1
    var a = ['c', 'a', 'x', 'd', 'x', 'a'];  //

    var obj = {};
    for (var i = 0; i < a.length; i++) {

//            判断数组中元素是否在obj中存在属性值，
            if (obj[a[i]] !== undefined) {
                obj[a[i]] += 1;
            } else {
                obj[a[i]] = 1
            }

    }
    console.log(obj); // {c: 1, a: 2, x: 2, d: 1}


    // 写一个方法，去掉一个数组的重复元素, 思路： 创建换一个新数组，循环遍历只要新数组中有老数组的值就不用添加了
    var b = [1, 2, 3, 4, 5, 2, 3, 4];

    function fun(array) {
        var newArray = [];

        for (var i = 0; i < array.length; i++) {
//            开闭原则
            var bool = true;


//            每次都要判断新数组中是否有老数组中的值
            for (var j = 0; j < newArray.length; j++) {
                if (array[i] === newArray[j]) {
                    bool = false;
                }
            }
            if (bool) {
                newArray[newArray.length] = array[i];
            }

        }
        return newArray;
    }

    console.log(fun(b)); // [1, 2, 3, 4]



    // 构造函数原理
    


    

</script>
</body>
</html>




























